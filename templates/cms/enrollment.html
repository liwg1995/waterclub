{% extends 'base.html' %}

{% block title %}è¯¾ç¨‹æŠ¥å - æ°´ç«‹æ–¹èˆè¹ˆå·¥ä½œå®¤{% endblock %}

{% block content %}
<div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
    <div class="bg-white rounded-lg shadow-lg p-8">
        <h1 class="text-3xl font-bold mb-2 text-gray-900">è¯¾ç¨‹æŠ¥å</h1>
        <p class="text-gray-600 mb-8">è¯·å¡«å†™ä»¥ä¸‹ä¿¡æ¯å®ŒæˆæŠ¥å</p>
        
        <form method="post" class="space-y-6">
            {% csrf_token %}
            
            <!-- ä¸ªäººä¿¡æ¯ -->
            <div class="bg-gray-50 p-6 rounded-lg">
                <h2 class="text-xl font-bold mb-4 text-gray-900">ä¸ªäººä¿¡æ¯</h2>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">å§“å <span class="text-red-500">*</span></label>
                        <input type="text" name="name" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="è¯·è¾“å…¥æ‚¨çš„å§“å">
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">ç”µè¯ <span class="text-red-500">*</span></label>
                        <input type="tel" name="phone" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="è¯·è¾“å…¥æ‚¨çš„è”ç³»ç”µè¯">
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">é‚®ç®±</label>
                        <input type="email" name="email" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="è¯·è¾“å…¥æ‚¨çš„é‚®ç®±">
                    </div>
                </div>
            </div>
            
            <!-- è¯¾ç¨‹é€‰æ‹© -->
            <div class="bg-gray-50 p-6 rounded-lg">
                <h2 class="text-xl font-bold mb-4 text-gray-900">é€‰æ‹©è¯¾ç¨‹ <span class="text-red-500">*</span></h2>
                
                {% if courses %}
                <div class="space-y-3">
                    {% for course in courses %}
                    <label class="flex items-start p-4 border border-gray-300 rounded-lg cursor-pointer hover:bg-blue-50 transition-colors">
                        <input type="radio" name="course_id" value="{{ course.id }}" required class="mt-1 mr-4 h-4 w-4 text-blue-600">
                        <div>
                            <div class="font-semibold text-gray-900">{{ course.name }}</div>
                            <div class="text-sm text-gray-600">
                                <p>ç­å‹ï¼š{{ course.class_type.name }}</p>
                                <p>è®²å¸ˆï¼š{{ course.teacher.real_name }}</p>
                                <p>å¼€è¯¾æ—¶é—´ï¼š{{ course.start_date|date:"Yå¹´mæœˆdæ—¥" }} - {{ course.end_date|date:"Yå¹´mæœˆdæ—¥" }}</p>
                                <p>å·²æŠ¥åï¼š{{ course.enrolled_count }}/{{ course.max_students }}</p>
                            </div>
                        </div>
                    </label>
                    {% endfor %}
                </div>
                {% else %}
                <div class="text-center py-8 text-gray-500">
                    <p>æš‚æ— å¼€æ”¾æŠ¥åçš„è¯¾ç¨‹</p>
                    <a href="{% url 'cms:classes' %}" class="text-blue-600 hover:text-blue-800 mt-2 inline-block">æŸ¥çœ‹ç­å‹ä»‹ç»</a>
                </div>
                {% endif %}
            </div>
            
            <!-- å£°æ˜ -->
            <div class="bg-blue-50 border border-blue-200 rounded-lg p-4">
                <label class="flex items-start">
                    <input type="checkbox" required class="mt-1 mr-3 h-4 w-4 text-blue-600">
                    <span class="text-sm text-gray-700">
                        æˆ‘å·²é˜…è¯»å¹¶åŒæ„<a href="#" class="text-blue-600 hover:text-blue-800">ã€ŠæŠ¥ååè®®ã€‹</a>å’Œ<a href="#" class="text-blue-600 hover:text-blue-800">ã€Šéšç§æ”¿ç­–ã€‹</a>
                    </span>
                </label>
            </div>
            
            <!-- æäº¤æŒ‰é’® -->
            <div class="flex flex-col sm:flex-row gap-4 justify-center">
                <button type="submit" class="bg-gradient-to-r from-blue-500 to-purple-600 text-white px-8 py-3 rounded-lg font-bold hover:shadow-lg transition-all">
                    æäº¤æŠ¥å
                </button>
                <a href="{% url 'cms:classes' %}" class="border-2 border-blue-500 text-blue-600 px-8 py-3 rounded-lg font-bold hover:bg-blue-50 transition-colors text-center">
                    è¿”å›
                </a>
            </div>
        </form>
        
        <!-- å¸®åŠ©ä¿¡æ¯ -->
        <div class="mt-12 pt-8 border-t border-gray-200">
            <h3 class="text-lg font-bold text-gray-900 mb-4">å¸¸è§é—®é¢˜</h3>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div>
                    <h4 class="font-semibold text-gray-900 mb-2">ğŸ“ æŠ¥åæµç¨‹</h4>
                    <p class="text-sm text-gray-600">å¡«å†™ä¿¡æ¯ â†’ é€‰æ‹©è¯¾ç¨‹ â†’ æäº¤æŠ¥å â†’ è¿›è¡Œæ”¯ä»˜ â†’ æŠ¥åå®Œæˆ</p>
                </div>
                <div>
                    <h4 class="font-semibold text-gray-900 mb-2">ğŸ’³ æ”¯ä»˜æ–¹å¼</h4>
                    <p class="text-sm text-gray-600">æ”¯æŒæ”¯ä»˜å®ã€å¾®ä¿¡æ”¯ä»˜ç­‰å¤šç§æ”¯ä»˜æ–¹å¼</p>
                </div>
                <div>
                    <h4 class="font-semibold text-gray-900 mb-2">â“ æœ‰ç–‘é—®ï¼Ÿ</h4>
                    <p class="text-sm text-gray-600">æ‹¨æ‰“å®¢æœçƒ­çº¿ï¼š400-123-4567</p>
                </div>
                <div>
                    <h4 class="font-semibold text-gray-900 mb-2">â° ä»€ä¹ˆæ—¶å€™å¼€è¯¾ï¼Ÿ</h4>
                    <p class="text-sm text-gray-600">æŠ¥åæˆåŠŸåï¼Œæˆ‘ä»¬ä¼šæå‰é€šçŸ¥æ‚¨å¼€è¯¾æ—¶é—´</p>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
