# 水立方舞蹈工作室管理系统 - 用户手册

## 目录
1. [系统概述](#系统概述)
2. [快速开始](#快速开始)
3. [前端功能](#前端功能)
4. [后台管理](#后台管理)
5. [常见问题](#常见问题)

---

## 系统概述

### 项目简介
水立方舞蹈工作室管理系统是一个专为舞蹈培训机构设计的综合管理平台，集学员管理、课程管理、财务管理、考勤管理等功能于一体。

### 系统特性
- 📱 **响应式设计** - 支持桌面、平板和手机设备
- 💳 **多种支付方式** - 支支付宝、微信支付、虎皮椒支付
- 👥 **完整的学员管理** - 学员信息、报名、考勤等全流程
- 💰 **财务管理模块** - 价格策略、支付记录、财务统计
- 🎓 **课程管理系统** - 班型、课程、排课、报名管理
- 📊 **后台管理平台** - SimpleUI美化界面，操作简便

### 技术栈
- **后端框架**：Django 4.2 LTS
- **数据库**：MySQL 8.0
- **前端框架**：Tailwind CSS + Alpine.js
- **后台管理**：SimpleUI
- **API文档**：Swagger/OpenAPI

---

## 快速开始

### 系统访问

#### 前端网站
- **首页地址**：`http://localhost:8000/`
- **班型介绍**：`http://localhost:8000/classes/`
- **师资力量**：`http://localhost:8000/teachers/`
- **作品展示**：`http://localhost:8000/gallery/`
- **新闻动态**：`http://localhost:8000/articles/`
- **联系我们**：`http://localhost:8000/contact/`

#### 后台管理
- **管理后台**：`http://localhost:8000/admin/`
- **默认账号**：需要在系统初始化时创建
- **API文档**：`http://localhost:8000/api/docs/`

### 初始化设置

#### 1. 创建超级管理员
```bash
python manage.py createsuperuser
```
按照提示输入用户名、邮箱和密码

#### 2. 执行数据库迁移
```bash
python manage.py migrate
```

#### 3. 启动开发服务器
```bash
python manage.py runserver 0.0.0.0:8000
```

---

## 前端功能

### 1. 首页
**访问地址**：`http://localhost:8000/`

**主要内容**：
- 轮播广告展示
- 工作室特色介绍（专业师资、科学课程、优质环境）
- 班型快速浏览
- 最新新闻动态
- 立即咨询/立即报名按钮

**可交互元素**：
- 点击"立即报名" → 跳转到课程报名页面
- 点击"立即咨询" → 跳转到联系我们页面

---

### 2. 班型介绍
**访问地址**：`http://localhost:8000/classes/`

**功能说明**：
- 展示所有开放的班型课程
- 每个班型卡片显示：
  - 班型名称
  - 舞种类型和难度等级
  - 适龄范围、课时长度、班级人数
  - 课程详细描述

**操作步骤**：
1. 浏览班型信息
2. 点击"立即报名"按钮
3. 进入报名页面

---

### 3. 课程报名
**访问地址**：`http://localhost:8000/enrollment/`

**报名流程**：
1. **填写个人信息**
   - 姓名（必填）
   - 电话号码（必填）
   - 邮箱地址（可选）

2. **选择课程**
   - 从开放报名的课程中选择
   - 每个课程显示班型、讲师、开课时间、已报名人数
   - 支持单选一个课程

3. **同意协议**
   - 勾选"我已阅读并同意《报名协议》和《隐私政策》"

4. **提交报名**
   - 点击"提交报名"按钮
   - 系统自动创建报名记录
   - 自动跳转到支付页面

---

### 4. 支付页面
**访问地址**：`http://localhost:8000/api/payment/create/?enrollment_id=X`

**支付方式选择**：

| 支付方式 | 说明 |
|---------|------|
| 💳 支付宝网页支付 | 通过支付宝网页版进行支付 |
| 📱 支付宝当面付 | 扫描二维码进行支付 |
| 💳 微信支付 | 通过微信扫码或APP支付 |
| 🔐 虎皮椒支付 | 快速安全的第三方支付 |

**支付步骤**：
1. 确认订单信息（学员名、课程名、金额）
2. 选择支付方式
3. 点击"立即支付"
4. 根据支付方式完成支付
5. 支付成功后返回确认页面

**支付成功后**：
- 显示订单详情
- 报名状态自动更新为"已支付"
- 可返回首页或继续咨询

---

### 5. 师资力量
**访问地址**：`http://localhost:8000/teachers/`

**功能说明**：
- 展示所有在职教师信息
- 每位教师显示：
  - 头像
  - 姓名和职位
  - 擅长舞种
  - 个人介绍

---

### 6. 作品展示
**访问地址**：`http://localhost:8000/gallery/`

**功能说明**：
- 展示工作室学员的优秀作品
- 包括演出照片、视频截图等
- 支持按分类浏览

---

### 7. 新闻动态
**访问地址**：`http://localhost:8000/articles/`

**功能说明**：
- 展示最新的新闻和活动信息
- 支持分页浏览
- 点击文章可查看详细内容

---

### 8. 联系我们
**访问地址**：`http://localhost:8000/contact/`

**功能说明**：
- 显示工作室联系方式：
  - 电话：400-123-4567
  - 邮箱：info@watercube.com
  - 地址：北京市朝阳区XX路XX号
- 留言表单：
  - 姓名
  - 电话
  - 邮箱
  - 主题
  - 留言内容
- 微信公众号二维码

---

## 后台管理

### 访问后台

1. **打开管理后台**
   - 地址：`http://localhost:8000/admin/`
   
2. **登录**
   - 输入创建的超级管理员账号和密码
   
3. **进入后台首页**
   - 显示系统简介和快速导航菜单

---

### 后台菜单结构

#### 📱 首页
- 系统首页和快速导航

#### 👥 用户管理
- **用户列表** - 查看、编辑、删除用户账号
- **用户资料** - 管理用户个人信息

#### 🎓 学员管理
- **学员列表** - 查看所有学员信息
  - 姓名、电话、邮箱
  - 年龄、身份证号
  - 注册时间、更新时间
  - 状态（活跃/停用）

#### 👨‍🏫 教师管理
- **师资力量** - 管理教师信息
  - 姓名、性别、身份证号
  - 联系电话、邮箱
  - 擅长舞种
  - 教师简介
  - 工作状态

#### 📚 班型课程
- **舞种管理** - 添加/编辑舞蹈类型
  - 舞种名称
  - 描述
  - 图标
  - 状态

- **班型管理** - 管理班型信息
  - 班型名称
  - 所属舞种
  - 难度等级（初级/中级/高级/专业）
  - 适龄范围
  - 单次课时长
  - 班级人数
  - 课程简介
  - 教学大纲
  - 封面图

- **课程管理** - 管理具体开班课程
  - 课程名称和期次
  - 所属班型
  - 授课教师
  - 开课/结课日期
  - 总课次数
  - 招生名额
  - 状态

- **教室管理** - 管理教学场地
  - 教室名称
  - 容纳人数
  - 位置信息
  - 设备配置

- **排课管理** - 安排课程时间表
  - 课程名称
  - 课次序号
  - 教室和教师
  - 开始/结束时间
  - 实际出勤人数
  - 课程状态

- **报名管理** - 管理学员报名
  - 学员名称
  - 所报课程
  - 报名时间
  - 报名状态（待支付/已支付/退款中/已退款）
  - 报名渠道

#### 💰 财务管理
- **价格策略** - 设置课程费用
  - 策略名称
  - 计费模式（次卡/月卡/学期制/按课时）
  - 价格和单价
  - 折扣
  - 有效期
  - 状态

- **支付记录** - 查看所有支付记录
  - 订单号
  - 学员名
  - 支付金额
  - 支付方式
  - 支付状态
  - 交易号
  - 支付时间

#### ⚙️ 支付配置（独立菜单）

- **支付宝配置**
  - App ID
  - 商户私钥
  - 支付宝公钥
  - 异步通知地址
  - 同步跳转地址
  - 启用状态

- **微信支付配置**
  - App ID
  - 商户号
  - API密钥
  - 证书路径
  - 密钥路径
  - 异步通知地址
  - 启用状态

- **虎皮椒配置**
  - App ID
  - App Secret
  - 异步通知地址
  - 同步跳转地址
  - 启用状态

#### 📋 考勤管理
- **考勤记录** - 记录学员上课出勤情况
  - 学员名
  - 课程
  - 出勤状态（出席/缺席/迟到）
  - 备注

#### 📰 内容管理
- **轮播图** - 管理首页轮播
  - 标题和描述
  - 背景图片
  - 链接
  - 顺序

- **文章管理** - 发布新闻和动态
  - 标题
  - 分类
  - 封面
  - 摘要
  - 内容
  - 作者
  - 发布状态
  - 是否精选

- **作品展示** - 展示学员作品
  - 标题
  - 描述
  - 图片/视频
  - 分类
  - 顺序

- **联系留言** - 查看用户留言
  - 提交人信息
  - 留言内容
  - 提交时间
  - 处理状态

---

### 常见后台操作

#### 添加新的班型
1. 进入 **班型课程** → **班型管理**
2. 点击 **添加班型** 按钮
3. 填写班型信息：
   - 班型名称
   - 选择舞种
   - 设置难度等级
   - 填写适龄范围
   - 设置课时长度和人数
   - 添加描述和大纲
4. 上传封面图
5. 点击 **保存** 按钮

#### 创建新的课程
1. 进入 **班型课程** → **课程管理**
2. 点击 **添加课程** 按钮
3. 填写课程信息：
   - 课程名称
   - 选择班型
   - 指定授课教师
   - 设置开课/结课日期
   - 设置课次数量和招生名额
   - 选择状态（招生中/进行中等）
4. 点击 **保存** 按钮

#### 设置支付方式
1. 进入 **支付配置** 菜单
2. 选择要配置的支付方式（支付宝/微信/虎皮椒）
3. 填写对应的配置信息：
   - App ID/商户号等
   - 秘钥信息
   - 回调地址
4. 启用该支付方式
5. 点击 **保存** 按钮

#### 查看支付记录
1. 进入 **财务管理** → **支付记录**
2. 可按以下条件筛选：
   - 支付方式
   - 支付状态
   - 日期范围
3. 搜索框可输入：
   - 订单号
   - 交易号
   - 学员名
4. 点击记录可查看详情

---

## 常见问题

### Q1：如何修改报名课程的价格？
**A：** 
1. 进入后台 → **财务管理** → **价格策略**
2. 编辑或创建新的价格策略
3. 在课程报名时，系统会自动从价格策略中取费用

### Q2：学员报名成功但支付失败，如何处理？
**A：** 
1. 进入后台 → **财务管理** → **支付记录**
2. 查找该学员的支付记录
3. 手动修改状态为"已支付"或"已退款"
4. 系统会自动更新报名状态

### Q3：如何添加新的教师？
**A：** 
1. 进入后台 → **教师管理** → **师资力量**
2. 点击 **添加教师** 按钮
3. 填写教师信息（姓名、身份证、联系方式等）
4. 选择擅长的舞种
5. 保存

### Q4：如何查看某学员的报名信息？
**A：** 
1. 进入后台 → **班型课程** → **报名管理**
2. 在搜索框输入学员名字或电话
3. 找到对应的报名记录
4. 点击可查看详细信息和支付状态

### Q5：系统支持哪些支付方式？
**A：** 系统支持以下四种支付方式：
- 支付宝网页支付
- 支付宝当面付（扫码）
- 微信支付
- 虎皮椒支付

需在后台 → **支付配置** 中配置相应的接口信息并启用

### Q6：如何发布新闻或通知？
**A：** 
1. 进入后台 → **内容管理** → **文章管理**
2. 点击 **添加文章** 按钮
3. 填写文章标题、分类、摘要
4. 使用编辑器编写内容
5. 上传封面图
6. 设置发布状态和是否精选
7. 保存

### Q7：如何更新首页轮播图？
**A：** 
1. 进入后台 → **内容管理** → **轮播图**
2. 编辑或添加轮播图
3. 上传图片、填写标题和描述
4. 设置显示顺序
5. 保存

### Q8：系统是否支持批量导入学员？
**A：** 当前系统不支持批量导入，需手动添加。可通过以下方式添加：
- 前端：学员通过报名表单自动创建
- 后台：管理员手动添加学员信息

### Q9：能否导出财务报表？
**A：** 当前版本支持在后台查看支付记录明细，可通过后台搜索和筛选功能进行统计。未来版本将支持导出功能。

### Q10：用户忘记登录密码怎么办？
**A：** 
1. 进入后台 → **用户管理** → **用户列表**
2. 找到该用户
3. 点击编辑，重置密码
4. 用户使用新密码登录

---

## 技术支持

### 联系方式
- **电话**：400-123-4567
- **邮箱**：support@watercube.com
- **工作时间**：周一至周日 09:00-18:00

### 系统要求
- **操作系统**：Windows/Mac/Linux
- **浏览器**：Chrome/Firefox/Safari 最新版本
- **网络**：需要稳定的互联网连接
- **服务器**：Python 3.11+，Django 4.2+，MySQL 8.0+

### 数据备份
- 建议每周备份一次数据库
- 定期备份上传的图片和文件
- 保存管理员账号信息

---

## 更新日志

### v1.0.0 (2025-12-05)
- ✨ 初版上线
- ✨ 完整的学员管理系统
- ✨ 课程报名和支付流程
- ✨ 多种支付方式集成
- ✨ 财务管理和统计
- ✨ SimpleUI美化后台管理
- ✨ 响应式前端设计

---

## 法律声明

本用户手册仅供参考，具体功能以实际系统为准。水立方舞蹈工作室管理系统享有最终解释权。

---

**最后更新**：2025年12月5日  
**版本**：1.0.0  
**© 2025 水立方舞蹈工作室 版权所有**
